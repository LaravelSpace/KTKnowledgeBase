## OIS七层模型

OSI（Open System Interconnect），即开放式系统互联。一般都叫OSI参考模型或OSI七层模型，是ISO（国际标准化组织）组织在1985年研究的网络互连模型。ISO为了更好的使网络应用普及，推出了OSI参考模型。其含义就是推荐所有公司使用这个规范来控制网络，这样所有公司都有相同的规范，就可以实现互联了。

### OSI七层模型的划分

OSI定义了网络互连的七层框架（应用层、表示层、会话层、传输层、网络层、数据链路层、物理层）。每一层实现各自的功能和协议，并完成与相邻层的接口通信。某一层的服务就是该层及其下各层的一种能力，它通过接口提供给更高一层。

#### 应用层

它是最靠近用户的一层，为计算机应用程序提供应用接口，也为用户直接提供各种网络服务。

主要作用：规定发送方和接收方必须使用固定长度的消息头。消息头必须使用某种固定的组成。而且消息头里必须记录消息体的长度等一系列信息。方便接收方能够解析发送方发送的数据。

常见协议：HTTP（超文本传输协议）、FTP（文件传输协议）、STMP（简单邮件传输协议）、TELNET（TCP/IP终端仿真协议）、SLP（服务定位协议）、DNS（域名系统）。

#### 表示层

提供各种用于应用层数据的编码和转换的功能，提供数据压缩解压缩、转换翻译和加密解密功能。

主要作用：解决不同系统之间通信的语法问题（比如windows和linux），数据将按照网络能理解的方案进行格式化。比如文字流，图像，声音等数据的格式化。

#### 会话层

负责建立、管理、维护和终止表示层实体之间的通信会话。

主要作用：会话层使用校验点，在通信会话失效时从校验点恢复通信，常见使用场景（大文件传输）。

常见协议：SSL（安全套接字层协议）、TLS（传输层安全协议）。

#### 传输层

负责建立、管理、维护和终止主机端到主机端的连接。本层为上层屏蔽了下层数据通信的细节，使上层看到的只是在两个传输实体间的一条主机端到主机端的、可由用户控制和设定的、可靠的数据通路。

主要作用：解决了不同网络之间主机的数据传输，并解决了传输质量的问题（判断数据是否有丢失）。传输协议，流量控制，基于接收方可接受数据的快慢程度规定适当的发送速率。按照网络能够处理的最大尺寸将数据切割(以太网无法接收大于1500字节的数据包)。传输层将数据切割之后，对每一个数据片安排一个序列号。以便数据到达接收方的传输层时，能以正确的顺序重组。

常见协议：TCP（传输控制协议，可靠性强，传输效率低）、UDP（用户数据报协议，不可靠，适用于传输可靠性要求不高，数据量小的数据）。

#### 网络层

IP寻址（逻辑地址寻址）及路由选择。本层通过IP寻址来建立两个节点之间的连接，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。这层的数据通常叫数据包。

主要作用：判断经过那个路由传递到目标地址。将网络地址翻译成物理地址，决定如何将数据从起始地发送到目的地。

常见协议：IP/IPv6（互联网协议）、ICMP/ICMPv6（互联网控制信息协议）、IGMP（互联网组管理协议）。

常见设备：路由器。

#### 数据链路层

物理寻址，提供介质访问和链路管理。使用链路层地址（以太网使用MAC地址）来访问介质。数据链路层又分为2个子层：1、逻辑链路控制子层（LLC）和媒体访问控制子层（MAC）。MAC子层处理CSMA/CD算法、数据出错校验、成帧等；2、LLC子层定义了一些字段使上次协议能共享数据链路层。

主要作用：实现数据帧与比特流之间的转换。格式化数据，将比特流组合成字节，再将字节组合成帧。提供错误检测和纠正，保证数据的可靠性。

常见协议：ARP（地址解析协议）、RARP（逆向地址解析协议）。

常见设备：交换机。

#### 物理层

物理层不是具体的物理设备，而是定义物理设备的标准，比如网线的类型，光纤的类型，各种传输介质的传输速率等。

主要作用：实现比特流与电子信号之间的切换。实际最终信号的传输是通过物理层实现的，通过物理介质传输比特流。

常见设备：集线器、中继器、调制解调器、光纤、双绞线、同轴电缆、网卡。

常见协议：IEEE 802.2。

### 对等通信

对等通信，为了使数据分组从源传送到目的地，源端OSI模型的每一层都必须与目的端的对等层进行通信，这种通信方式称为对等层通信。在每一层通信过程中，使用本层自己协议进行通信。

### TCP/IP五层模型

TCP/IP五层模型和OSI的七层模型对应关系如下：

| OSI七层模型 | TCP/IP五层模型 |
| ----------- | -------------- |
| 应用层      | 应用层         |
| 表示层      | 应用层         |
| 会话层      | 应用层         |
| 传输层      | 传输层         |
| 网络层      | 网络层         |
| 数据链路层  | 数据链路层     |
| 物理层      | 物理层         |

