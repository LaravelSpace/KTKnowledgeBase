## 数据库概述

### 数据库是什么

数据是描述事物的符号。数据有多种表现形式，可以是数字，也可以是文字、图形、图像、声音、语言等。

数据库（Database）指长期存储在计算机内的、有组织的、可共享的数据集合。数据库就是存储数据的地方。

数据库管理系统（DBMS）是数据库系统的核心软件之一，是位于用户与操作系统之间的数据管理软件，用于建立，使用和维护数据库。它的主要功能包括数据定义、数据操作、数据库的运行管理、数据库的建立和维护等几个方面。

##### 关系型数据库

关系型数据库是建立在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。简单说，关系型数据库是由多张能互相连接的表组成的数据库。

优点

- 都是使用表结构，格式一致，易于维护。
- 使用通用的SQL语言操作，使用方便，可用于复杂查询。
- 数据存储在磁盘中，安全。

缺点

- 读写性能比较差，不能满足海量数据的高效率读写。
- 不节省空间。因为建立在关系模型上，就要遵循某些规则，比如数据中某字段值即使为空仍要分配空间。
- 固定的表结构，灵活度较低。

##### 非关系型数据库

非关系型数据库又被称为NoSQL（Not Only SQL)，意为不仅仅是SQL。通常指数据以对象的形式存储在数据库中，而对象之间的关系通过每个对象自身的属性来决定。

优点

- 非关系型数据库存储数据的格式可以是key-value形式、文档形式、图片形式等。使用灵活，应用场景广泛，而关系型数据库则只支持基础类型。
- 速度快，效率高。NoSQL可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘。
- 海量数据的维护和处理非常轻松。
- 非关系型数据库具有扩展简单、高并发、高稳定性、成本低廉的优势。
- 可以实现数据的分布式处理。

缺点

- 非关系型数据库暂时不提供SQL支持，学习和使用成本较高。
- 非关系数据库没有事务处理，没有保证数据的完整性和安全性。适合处理海量数据，但是不一定安全。
- 功能没有关系型数据库完善。

### 为什么要使用数据库

- 数据库可以结构化存储大量的数据信息，并且能够提供快速的查询，方便用户进行有效的检索和访问。
- 数据库可以有效地保持数据信息的一致性、完整性。而且自身有避免重复数据的功能，以此来降低数据的冗余。
- 数据库可以满足应用的共享和安全方面的要求，把数据放在数据库中在很多情况下也是出于安全的考虑。
- 数据库技术能够方便智能化地分析，产生新的有用信息。

数据挖掘、联机分析等技术近年来发展非常快，其核心意义在于从一堆数据中分析出有用的信息。

### 数据库系统

数据库系统（Database System，DBS）由硬件和软件共同构成。硬件主要用于存储数据库中的数据，包括计算机、存储设备等。软件部分主要包括数据库管理系统、支持数据库管理系统运行的操作系统，以及支持多种语言进行应用开发的访问技术等。

一个完整的数据库系统一般由数据库、数据库管理系统、应用开发工具、应用系统、数据库管理员和用户组成。

数据库系统主要有以下3个组成部分：

- 数据库（Data Base，DB）：用于存储数据的地方。数据库提供了一个存储空间来存储各种数据，可以将数据库视为一个存储数据的容器。一个数据库可能包含许多文件，一个数据库系统中通常包含许多数据库。
- 数据库管理系统（Database Management System，DBMS）：用于管理数据库的软件。是用户创建、管理和维护数据库时所使用的软件，位于用户和操作系统之间，对数据库进行统一管理。DBMS能定义数据存储结构，提供数据的操作机制，维护数据库的安全性、完整性和可靠性。
- 数据库应用程序（Data Base Application）：为了提高数据库系统的处理能力所使用的管理数据库库的软件补充。它的使用可以满足对数据管理的更高要求，还可以使数据管理过程更加直观和友好。数据库应用程序负责与DBMS进行通信、访问和管理DBMS中存储的数据，允许用户插入、修改、删除数据库中的数据。

DBMS提供的功能，主要包括以下几个方面。

1、数据定义功能

DBMS提供数据定义语言（Data Definition Language，DDL），用户通过它可以方便地对数据库中的数据对象进行定义。

2、数据操纵功能

DBMS提供数据操纵语言（Data Manipulation Language，DML），用户可以使用DML操作数据，实现对数据库的基本操作，如查询、插入、删除和修改等。

3、数据库的运行管理

数据库在建立、运用和维护时由数据库管理系统统一管理、统一控制，以保证数据的安全性、完整性、多用户对数据的并发使用及发生故障后的系统恢复。例如：

- 数据的完整性检查功能保证用户输入的数据应满足相应的约束条件；
- 数据库的安全保护功能保证只有赋予权限的用户才能访问数据库中的数据；
- 数据库的并发控制功能使多个用户可以在同一时刻并发地访问数据库的数据；
- 数据库系统的故障恢复功能使数据库运行出现故障时可以进行数据库恢复，以保证数据库可靠地运行。

4、提供方便、有效地存取数据库信息的接口和工具

编程人员可通过编程语言与数据库之间的接口进行数据库应用程序的开发。数据库管理员（Database Administrator，DBA）可通过提供的工具对数据库进行管理。

> 数据库管理员是维护和管理数据库的专门人员。

5、数据库的建立和维护功能

数据库功能包括数据库初始数据的输入、转换功能，数据库的转储、恢复功能，数据库的重组织功能和性能监控、分析功能等。这些功能通常由一些使用程序来完成。

### 常用数据库访问接口

ODBC（Open Database Connectivity，开放数据库互连）为访问不同的SQL数据库提供了一个共同的接口。ODBC使用SQL作为访问数据的标准。这一接口提供了最大限度的互操作性。一个应用程序可以通过共同的一组代码访问不同的SQL数据库管理系统。一个基于ODBC的应用程序对数据库的操作不依赖任何DBMS，不直接与DBMS打交道，所有的数据库操作由对应的DBMS的ODBC驱动程序完成。也就是说，不论是MySQL还是Oracle数据库，均可用ODBCAPI进行访问。ODBC的最大优点是能以统一的方式处理所有的数据库。

Java Data Base（JDBC，Java数据库连接）用于Java应用程序连接数据库的标准方法

PDO（PHP Data Object）为PHP访问数据库定义了一个轻量级的、一致性的接口，它提供了一个数据访问抽象层，这样，无论使用什么数据库，都可以通过一致的函数执行查询和获取数据。

### 常用数据库

Oracle是甲骨文公司的一款关系型数据库管理系统，在数据库领域一直处于领先地位的产品，是目前世界上流行的关系型数据库之一，是一种高效率、可靠性好、适应高吞吐量的数据库方案。

优点：

- Oracle可移植性好，能在所有主流平台上运行（包括Windows），完全支持所有工业标准。采用完全开放策略，使客户可以选择最适合解决方案。以及对开发商的全力支持。
- 获得最高认证级别的ISO标准认证，安全性高。
- 与其它数据库相比，Oracle性能最高。保持着开放平台下TPC-D和TPC-C世界记录。
- 多层次网络计算，支持多种工业标准，可以用ODBC、JDBC、OCI等网络客户连接。
- 完全向下兼容，因此被广泛应用，且风险低。

缺点：

- 对硬件的要求高
- 价格比较昂贵
- 管理维护麻烦
- 操作比较复杂

SQL Server是Microsoft（微软）公司推出的关系型数据库管理系统，主要应用于大型的管理系统中。

​	优点：

- 与微软的Windows系列操作系统的兼容性很好。
- 高性能设计，可充分利用Windows NT的优势。
- 系统管理先进，支持Windows图形化管理工具，支持本地和远程的系统管理和配置。
- 强壮的事务处理功能，采用各种方法保证数据的完整性。
- 支持对称多处理器结构、存储过程、ODBC，并具有自主的SQL语言。

​	缺点：

- SQL Server只能在Windows系统上运行，没有丝毫开放性。
- 没有获得任何安全证书。
- 多用户时性能不佳。
- 只支持C/S模式，SQL Server C/S结构只支持Windows客户用ADO、DAO、OLEDB、ODBC连接。

MySQL是一种开放源代码的关系型数据库管理系统，由瑞典MySQL AB公司开发，属于Oracle旗下产品。因为其速度、可靠性和适应性而备受关注。MySQL是流行的关系型数据库管理系统之一，在WEB应用方面，MySQL是最好的应用软件之一。

​	优点：

- 性能卓越服务稳定，很少出现异常宕机
- 开放源代码且无版权制约，自主性强、使用成本低。
- 历史悠久、社区及用户非常活跃，遇到问题，可以很快获取到帮助。
- 软件体积小，安装使用简单，并且易于维护，安装及维护成本低。
- 支持多种操作系统，提供多种API接口，支持多种开发语言。

​	缺点：

- MySQL最大的缺点是其安全系统，主要是复杂而非标准，只有调用mysqladmin来重读用户权限才会发生改变。
- MySQL不允许调试存储过程，开发和维护存储过程很难。
- MySQL不支持热备份。
- MySQL的价格随平台和安装方式变化。

DB2是美国IBM公司开发的一款支持多媒体、Web的关系型数据库管理系统。主要应用于大型应用系统，具有较好的可伸缩性，可支持从大型机到单用户环境。

​	优点：

- 相比较MySQL和Oracle两种数据库来说，DB2提供了高层次的数据利用性、完整性、安全性、可恢复性，以及小规模到大规模地应用程序执行能力，具有与平台无关的基本功能和SQL命令。
- DB2采用了数据分级技术，能够使大型数据很方便的下载到数据库服务器，使数据库本地化和远程连接透明化。
- 拥有非常完备的查询优化器，改善了查询性能，并支持多任务并行查询。
- 具有很好的网络支持能力，每个子系统可以连接十几万个分布式用户，可同时激活上千个活动线程，对大型分布式应用系统更加使用。
- DB2可跨平台使用。

​	缺点：

- 配置文件和参数多，且命名不规范。
- 一些DB2产品开发不方便。
- 和Oracle相比，命令多，且没Oracle统一规范的好。
- 由于其设计框架的问题，如果用户对数据库的本身优化和应用程序优化做的不足，那么DB2容易出现锁等待现象。

PostgreSQL是一款富有特色的自由数据库管理系统，甚至可以说是最强大的自由软件数据库管理系统。该数据库管理系统支持了目前世界上最丰富的数据类型。是自由软件数据库管理系统中唯一支持事务、子查询、多版本并行控制系统、数据完整性检查等特性的自由软件。

​	优点：

- PostgreSQL遵循的是BSD协议，是一个完全开源、免费、同时非常强大的关系型数据库。
- 与PostgreSQL配合的有很多分布式集群软件，如pgpool、pgcluster、slony、plploxy等等，很容易做读写分离、负载均衡、数据水平拆分等方案，而这些MySQL则比较难实现。
- PostgreSQL源代码写的很清晰，易读性比MySQL强，所以很多公司基本都是以PostgreSQL做二次开发的。
- PostgreSQL是多进程的，而MySQL是多线程的。并发不高时，MySQL处理速度快，但当并发高的时候，对于现在多核的单台机器上，MySQL的总体处理性能不如PostgreSQL，原因是MySQL的线程无法充分利用CPU的能力。
- PostgreSQL有很强大的查询优化器，支持很复杂的查询处理。

> BSD开源协议是一个给于使用者很大自由的协议。可以自由的使用，修改源代码，也可以将修改后的代码作为开源或者专有软件再发布。

​	缺点：

- 对于简单而繁重的读取操作，相比较其它数据库来说，PostgreSQL性能较低。
- PostgreSQL数据库扩容花费时间很长。

### 数据库专业术语

数据库管理系统（DBMS）是位于操作系统与用户之间的一种操纵和管理数据库的软件。关系型数据库通过关系数据库管理系统（RDBMS）进行管理。

关系（Relational，即RDBMS里的R）表示这是一种特殊的DBMS，数据库中表与表之间要存在关系。

数据库（Data Base，即RDBMS里的DB）是一个用来存储和管理数据的仓库。它的存储空间很大，并且有一定的数据存放规则。通过由行和列组成的二维表（类似Excel工作表）来管理数据。数据库中可以同时存储多个表。

管理系统（Management System，即RDBMS里的MS）是一个软件，我们可以通过它来插入（insert）、查询（query）、修改（modify）或删除（delete）表中的数据。

用来管理数据的二维表在关系数据库中简称为表（Table），每个表由多个行（Row）和列（Column）组成。表的列（垂直方向）称为字段，是具有相同数据类型的数据集合。表的行（水平方向）称为记录（Record），相当于一条数据。记录可以包含多项信息，表中的每一列都对应于其中的某一项。

SQL（Structured Query Language，结构化查询语言）是用来操作关系型数据库的语言，使用SQL可以对数据库和表进行添加、删除、修改和查询等操作。