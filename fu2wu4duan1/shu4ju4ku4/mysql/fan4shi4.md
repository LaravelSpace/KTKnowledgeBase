## 范式

为了建立冗余小、结构合理的数据库，设计数据库时必须遵循一定的规则。在关系型数据库中，这种规则就是范式。范式是符合某一种级别的关系模式的集合。关系型数据库中的关系必须满足一定的要求，即满足不同的范式。

目前关系型数据库有六种范式，分别为：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、第四范式（4NF）、第五范式（5NF）和第六范式（6NF）。一般说来，数据库只需满足第三范式就行了。

- 第一范式（1NF）用来确保每列的原子性，要求每列（或者每个属性值）都是不可再分的最小数据单元（也称为最小的原子单元）。
- 第二范式（2NF）在第一范式的基础上更进一层，要求表中的每列都和主键相关，即要求实体的唯一性。如果一个表满足第一范式，并且除了主键以外的其他列全部都依赖于该主键，那么该表满足第二范式。
- 第三范式（3NF）在第二范式的基础上更进一层，第三范式是确保每列都和主键列直接相关，而不是间接相关，即限制列的冗余性。如果一个关系满足第二范式，并且除了主键以外的其他列都依赖于主键列，列和列之间不存在相互依赖关系，则满足第三范式。

不满足范式的数据库设计，就是反范式化。

为了满足三大范式，数据操作性能会受到相应的影响。所以，在实际的数据库设计中，既要考虑三大范式，避免数据的冗余和各种数据操作异常，又要考虑数据访问性能。为了减少表连接，提高数据库的访问性能，也可以允许适当的数据冗余列。找到最合适的数据库设计方案是一个平衡的过程。

### 范式化优缺点

优点：

- 减少数据冗余，范式化的表通常比反范式化的表更小。
- 范式化后的表更新时只需要更新较少的数据，所以范式化的更新操作比反范式化更快。

缺点：

- 范式化的表在查询时经常需要很多的关联，这会导致性能降低。
- 增加了索引优化的难度。

### 反范式化优缺点

优点：

- 可以减少表的关联。
- 可以更好的进行索引优化。

缺点：

- 数据表存在数据冗余及数据维护异常。
- 对数据的修改需要更多的成本。

### 不使用范式的影响

 - 信息重复（冗余）
 - 更新异常：更新没有更新所有的行，导致数据不一致。
 - 插入异常(无法表示某些信息)：插入的数据和先前的数据冲突。
 - 删除异常（丢失有用的信息）：删除的时候连带删掉了一些数据。