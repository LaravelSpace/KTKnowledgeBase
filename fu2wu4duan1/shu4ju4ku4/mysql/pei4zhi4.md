## MySQL配置

与其它数据库不同，MySQL服务器可以在不同的SQL模式下运行，并且可以针对不同的客户端以不同的方式应用这些模式，具体取决于sql_mode系统变量的值。

在MySQL中，SQL模式常用来解决下面几类问题：

- 通过设置SQL Mode，可以完成不同严格程度的数据校验，有效地保障了数据的准确性。
- 通过设置SQL Mode为ANSI模式，可以保证大多数SQL符合标准的SQL语法，使不同数据库之间进行迁移时，不需要进行较大的修改。
- 在不同数据库之间进行数据迁移之前，设置SQLMode可以使MySQL中的数据更方便地迁移到目标数据库中。

### sql_mode系统变量的常用值

##### TRICT_ALL_TABLES和STRICT_TRANS_TABLES

如果将sql_mode的值设置为TRICT_ALL_TABLES和STRICT_TRANS_TABLES，那么MySQL将启用严格模式。在严格模式下，MySQL服务器会更加严格地对待接收到的不合格数据，它不会把这些不合格的数据转换为最为接近的有效值，而是会拒绝接收它们。

简单来说MySQL的严格模式就是MySQL自身对数据进行的严格校验，例如格式、长度和类型等。

##### TRADITIONAL

类似于严格模式，但是对于插入的不合格值会给出错误而不是警告。可以应用在事务表和非事务表，用于事务表时，只要出现错误就会立即回滚。

如果你使用的是非事务存储引擎，建议不要把SQL Mode值设置为TRADITIONAL，因为出现错误前进行的操作不会回滚，这样会导致操作只进行了一部分。

##### ANSI_QUOTES

MySQL服务器会把双引号识别为一个标识符引用字符，而不是字符串的引号字符。所以在启用ANSI_QUOTES时，不能用双引号来引用字符串。

##### PIPES_AS_CONCAT

会让MySQL服务器把`||`当成一个标准的SQL字符串连接运算符，而不会把它当成是OR运算符的同义词。

在Oracle等数据库中，`||`被视为字符串的连接操作符，所以在其它数据库中含有`||`操作符的SQL在MySQL中将无法执行，为了解决这个问题，MySQL提供了这个值。

##### ANSI

会同时启用ANSI_QUOTES、PIPES_AS_CONCAT和其它的几个模式值，使MySQL服务器的行为比它的默认运行状态更接近于标准SQL。